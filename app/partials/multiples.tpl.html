
<section class="visualizations">
  <div class="welcome" ng-show="selection.selectedValues.length == 0">
    <h3>Choose some indicators to see maps. &rarr;</h3>
  </div>
  <div class="community-info" ng-show="currentCommunity">
    <h2>{{currentCommunity}}</h2>
  </div>

  <div class="vs-map" ng-repeat="var in selection.selectedValues">

    <h2>{{varInfo.get(var).Indicator}} - {{varInfo.get(var).Year}}</h2>

    <vs-map property="{{var}}"
      hover="showCommunity"
      click="selectCommunity"
      selected="communitySelection.selectedValues"
      active="activeCommunities"></vs-map>

    <vs-histogram property="{{var}}"
      hover="showCommunities"
      click="selectCommunities"
      selected="communitySelection.selectedValues"
      active="activeCommunities"></vs-histogram>


    <section class="source">
      <button role="button" class="show-source" ng-click="showSource = !showSource;">
        source
      </button>
      <div class="details" ng-show="showSource">
        Source:
        <cite>{{varInfo.get(var)["Full Source"]}}</cite>
        Analysis:
        <cite>Baltimore Neighborhood Indicators Alliance - Jacob France Institute (2013)</cite>
      </div>
    </section>

    <div class="value" ng-show="currentCommunity">
      {{vitalsigns.get(currentCommunity).get(var)}}
    </div>

    <div class="move">
      <button ng-show="!$first" ng-click="moveLeft(var)">
        &larr;
      </button>
      <button ng-show="!$last" ng-click="moveRight(var)">
        &rarr;
      </button>
    </div>

  </div>

  <div class="vs-scatter" ng-show="selection.selectedValues.length == 2">
    <vs-scatter indicators="selection.selectedValues"
      hover="showCommunity"
      click="selectCommunity"
      selected="communitySelection.selectedValues"
      active="activeCommunities">
    </vs-scatter>
  <div>

</section>
